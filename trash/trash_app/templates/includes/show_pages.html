{% if is_paginated %}
<nav aria-label="...">
    <ul class="pagination">

        <li class="page-item {% if not previous_url %} disabled {% endif %}">
            <a class="page-link" href="{{ previous_url }}">Предыдущая</a>
        </li>

        {% for number in pages.paginator.page_range %}
            {% if pages.number == number %}
            <li class="page-item active" aria-current="page">
                <a class="page-link" href="?page={{ number }}">{{ number }}</a>
            </li>
            {% elif number > pages.number|add:-3 and number < pages.number|add:3 %}
            <li class="page-item">
                <a class="page-link" href="?page={{ number }}">{{ number }}</a>
            </li>
            {% endif %}
        {% endfor %}

        <li class="page-item {% if not next_url %} disabled {% endif %}">
            <a class="page-link" href="{{ next_url }}">Следующая</a>
        </li>

    </ul>
</nav>
{% endif %}
